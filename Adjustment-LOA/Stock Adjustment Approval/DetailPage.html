<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Outlet Details</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../Admin/styles2.css">
</head>

<body>
  <nav class="navbar">
    <a href="../MainPage.html">
      <img src="../Images/Eco-Shop logo.png" alt="Eco-Shop Logo" class="navbar-logo">
    </a>
  </nav>

  <div class="container" style="margin-top: 50px;">
    <h1 class="text-center mb-4" id="outletTitle"></h1>

    <!-- Outlet Details Section -->
    <div class="card mb-4">
      <div class="card-body">
        <h5 class="card-title">Outlet Details</h5>
        <p><strong>Regional:</strong> Northern</p>
        <p><strong>Status:</strong> Active</p>
        <p><strong>Created By:</strong> Admin</p>
        <p><strong>Created At:</strong> 2023-01-01</p>
      </div>
    </div>

    <!-- Summary Section -->
    <div class="card mb-4">
      <div class="card-body">
        <h5 class="card-title">Summary</h5>
        <p><strong>Outlet Name:</strong> <span id="outletName"></span></p>
        <p><strong>Document ID:</strong> XYZ123</p>
        <p><strong>Document Date:</strong> 2024-02-19</p>
        <p><strong>Total Item:</strong> 5</p>
        <p><strong>Total Price:</strong> $500</p>
        <p><strong>Adjustment Type:</strong> Damage Good</p>
      </div>
    </div>

    <!-- Item Details Section -->
    <h5>Details</h5>
    <table class="table table-bordered mb-4">
      <thead>
        <tr>
          <th>Item</th>
          <th>Quantity</th>
          <th>Approval Level 1</th>
          <th>Approval Level 2</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Item 1</td>
          <td>21</td>
          <td>
            <input type="radio" name="approval1Item1" value="Approve"> Approve
            <input type="radio" name="approval1Item1" value="Reject"> Reject
          </td>
          <td>
            <input type="radio" name="approval2Item1" value="Approve"> Approve
            <input type="radio" name="approval2Item1" value="Reject"> Reject
          </td>
        </tr>
        <tr>
          <td>Item 2</td>
          <td>15</td>
          <td>
            <input type="radio" name="approval1Item2" value="Approve"> Approve
            <input type="radio" name="approval1Item2" value="Reject"> Reject
          </td>
          <td>
            <input type="radio" name="approval2Item2" value="Approve"> Approve
            <input type="radio" name="approval2Item2" value="Reject"> Reject
          </td>
        </tr>
        <tr>
          <td>Item 3</td>
          <td>61</td>
          <td>
            <input type="radio" name="approval1Item2" value="Approve"> Approve
            <input type="radio" name="approval1Item2" value="Reject"> Reject
          </td>
          <td>
            <input type="radio" name="approval2Item2" value="Approve"> Approve
            <input type="radio" name="approval2Item2" value="Reject"> Reject
          </td>
        </tr>
        <tr>
          <td>Item 4</td>
          <td>42</td>
          <td>
            <input type="radio" name="approval1Item2" value="Approve"> Approve
            <input type="radio" name="approval1Item2" value="Reject"> Reject
          </td>
          <td>
            <input type="radio" name="approval2Item2" value="Approve"> Approve
            <input type="radio" name="approval2Item2" value="Reject"> Reject
          </td>
        </tr>
        <tr>
          <td>Item 5</td>
          <td>24</td>
          <td>
            <input type="radio" name="approval1Item2" value="Approve"> Approve
            <input type="radio" name="approval1Item2" value="Reject"> Reject
          </td>
          <td>
            <input type="radio" name="approval2Item2" value="Approve"> Approve
            <input type="radio" name="approval2Item2" value="Reject"> Reject
          </td>
        </tr>
        <tr>
          <td>Item 6</td>
          <td>32</td>
          <td>
            <input type="radio" name="approval1Item2" value="Approve"> Approve
            <input type="radio" name="approval1Item2" value="Reject"> Reject
          </td>
          <td>
            <input type="radio" name="approval2Item2" value="Approve"> Approve
            <input type="radio" name="approval2Item2" value="Reject"> Reject
          </td>
        </tr>
        <tr>
          <td>Item 7</td>
          <td>43</td>
          <td>
            <input type="radio" name="approval1Item2" value="Approve"> Approve
            <input type="radio" name="approval1Item2" value="Reject"> Reject
          </td>
          <td>
            <input type="radio" name="approval2Item2" value="Approve"> Approve
            <input type="radio" name="approval2Item2" value="Reject"> Reject
          </td>
        </tr>
        <tr>
          <td>Item 8</td>
          <td>36</td>
          <td>
            <input type="radio" name="approval1Item2" value="Approve"> Approve
            <input type="radio" name="approval1Item2" value="Reject"> Reject
          </td>
          <td>
            <input type="radio" name="approval2Item2" value="Approve"> Approve
            <input type="radio" name="approval2Item2" value="Reject"> Reject
          </td>
        </tr>
        <tr>
          <td>Item 9</td>
          <td>55</td>
          <td>
            <input type="radio" name="approval1Item2" value="Approve"> Approve
            <input type="radio" name="approval1Item2" value="Reject"> Reject
          </td>
          <td>
            <input type="radio" name="approval2Item2" value="Approve"> Approve
            <input type="radio" name="approval2Item2" value="Reject"> Reject
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Save Buttons -->
    <div class="d-flex justify-content-between mb-4">
      <!-- "Back to Listing" button on the left -->
      <div>
        <a href="../Stock Adjustment Approval/ListingPage.html" class="btn btn-secondary">Back to Listing</a>
      </div>
      
      <!-- Save Buttons on the right -->
      <div>
        <button class="btn btn-success me-2" id="saveButtonSuccess">Save (Success)</button>
        <button class="btn btn-primary" id="saveButtonCancel">Save (Cancellation)</button>
      </div>
    </div>

    <!-- Validation Modal -->
    <div class="modal" tabindex="-1" id="validationModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"><i class="fas fa-check-circle text-success"></i> Saved Successfully !</h5>
          </div>
          <div class="modal-body" id="modalMessage">
            <!-- Modal Message Content will be dynamically added -->
            <div id="remarkSection">
              <label for="remark">Enter Remark:</label>
              <textarea id="remark" class="form-control" rows="3" placeholder="Enter your remark here..."></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary ms-auto" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="submitRemark">Submit</button>
          </div>
        </div>
      </div>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Modal logic for Save buttons
    const saveButtonSuccess = document.getElementById("saveButtonSuccess");
    const saveButtonCancel = document.getElementById("saveButtonCancel");
    const validationModal = new bootstrap.Modal(document.getElementById("validationModal"));
    const modalMessage = document.getElementById("modalMessage");
    const submitRemark = document.getElementById("submitRemark");

    saveButtonSuccess.addEventListener("click", function() {
      modalMessage.innerHTML = `
        <p><i class="fas fa-check-circle text-success"></i> Success! The outlet details have been saved successfully.</p>
      `;
      validationModal.show();
    });

    saveButtonCancel.addEventListener("click", function() {
      modalMessage.innerHTML = `
        <p><i class="fas fa-times-circle text-danger"></i> Cancellation: The outlet details have not been saved. Please review the form and try again.</p>
        <p><strong>Remark:</strong> <textarea class="form-control" id="remark" placeholder="Enter your remark here..." rows="3"></textarea></p>
      `;
      validationModal.show();
    });

    submitRemark.addEventListener("click", function() {
      const remark = document.getElementById("remark").value;
      alert("Your remark: " + remark);
      validationModal.hide();
    });

    // Outlet Name and other dynamic content population
    const outletName = getQueryParam("outlet");
    const outletTitle = document.getElementById("outletTitle");
    const outletNameElement = document.getElementById("outletName");

    outletTitle.innerText = `Details for Outlet ${outletName}`;
    outletNameElement.innerText = outletName;

    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }
  </script>
</body>
</html>
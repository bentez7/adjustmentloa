<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title id="pageTitle">Stock Adjustment Detail</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../Admin/styles2.css">
  <style>

    .approval-icon {
      width: 30px;
      height: 30px;
      cursor: pointer;
      margin: 0 5px;
      transition: all 0.3s ease;
    }

    .approval-icon:hover {
      opacity: 0.6;
    }

    .approval-icon.selected {
      opacity: 1;
    }

    .approval-icon.deselected {
      opacity: 0.4;
    }

    /* Two-column grid for Summary */
    .summary-container {
      display: grid;
      grid-template-columns: 1fr 1fr; /* Two equal columns */
      gap: 20px;
      margin-bottom: 20px;
      padding: 20px;
    }

    .summary-column p {
      margin-bottom: 8px;
    }

    /* Adjust the remarks column to allow typing */
    .remarks-input {
      width: 85%;
      min-height: 50px;
      border: 1px solid #ccc;
      padding: 5px;
      border-radius: 5px;
    }

  </style>
</head>

<body>
  <nav class="navbar">
    <a href="../MainPage.html">
      <img src="../Images/Eco-Shop logo.png" alt="Eco-Shop Logo" class="navbar-logo">
    </a>
  </nav>

  <div class="container mt-5">
    <h1 id="detailTitle" class="text-center mb-4">Stock Adjustment Detail</h1>

    <!-- Summary Section with Two-Column Grid -->
    <div class="summary-container">
      <div class="summary-column">
        <p><strong>Outlet Name:</strong> BSJ - SUBANG JAYA</p>
        <p><strong>Document ID:</strong> XYZ123</p>
        <p><strong>Document Date:</strong> 22/01/2025 1:42 PM</p>
      </div>
      <div class="summary-column">
        <p><strong>Status:</strong> Active</p>
        <p><strong>Total Item:</strong> 5</p>
        <p><strong>Total Price:</strong> $500</p>
        <p><strong>Adjustment Type:</strong> Damage Good</p>
      </div>
    </div>

    <!-- Item Details Section -->
    <h5>Details</h5>
    <table class="table table-bordered mb-4">
      <thead>
        <tr>
          <th>Item ID</th>
          <th>Item</th>
          <th>Item Description</th>
          <th>Quantity</th>
          <th>Price(RM)</th>
          <th>Approval</th>
          <th>Remarks</th>
        </tr>
      </thead>
      <tbody>
        <td>1</td>
            <td>Item001</td>
            <td>Dettol Original Antibacterial Shower Gel Body Wash 950ml</td>
            <td>21</td>
            <td>RM14.90</td>
            <td>
              <img src="../Images/Sidenavbar/Approve.png" alt="Approve" class="approval-icon">
              <img src="../Images/Sidenavbar/Reject.png" alt="Reject" class="approval-icon">
            </td>
            <td><input type="text" class="remarks-input" placeholder="Enter remarks..."></td>
          </tr>

          <tr>
            <td>2</td>
            <td>Item002</td>
            <td>Popi LotionSoft Bundle Face Towels</td>
            <td>15</td>
            <td>RM4.95</td>
            <td>
              <img src="../Images/Sidenavbar/Approve.png" alt="Approve" class="approval-icon">
              <img src="../Images/Sidenavbar/Reject.png" alt="Reject" class="approval-icon">
            </td>
            <td><input type="text" class="remarks-input" placeholder="Enter remarks..."></td>
          </tr>

          <tr>
            <td>3</td>
            <td>Item003</td>
            <td>Top Micro-Clean Tech Super Hygienic Detergent 3.6kg</td>
            <td>61</td>
            <td>RM23.90</td>
            <td>
              <img src="../Images/Sidenavbar/Approve.png" alt="Approve" class="approval-icon">
              <img src="../Images/Sidenavbar/Reject.png" alt="Reject" class="approval-icon">
            </td>
            <td><input type="text" class="remarks-input" placeholder="Enter remarks..."></td>
          </tr>

          <tr>
            <td>4</td>
            <td>Item004</td>
            <td>Eveready Super Heavy Duty AA Battery - 8pcs 1215BP8</td>
            <td>42</td>
            <td>RM12.10</td>
            <td>
              <img src="../Images/Sidenavbar/Approve.png" alt="Approve" class="approval-icon">
              <img src="../Images/Sidenavbar/Reject.png" alt="Reject" class="approval-icon">
            </td>
            <td><input type="text" class="remarks-input" placeholder="Enter remarks..."></td>
          </tr>

          <tr>
            <td>5</td>
            <td>Item005</td>
            <td>Meadows Dehumidifier Charcoal 3x 720ml</td>
            <td>24</td>
            <td>RM9.90</td>
            <td>
              <img src="../Images/Sidenavbar/Approve.png" alt="Approve" class="approval-icon">
              <img src="../Images/Sidenavbar/Reject.png" alt="Reject" class="approval-icon">
            </td>
            <td><input type="text" class="remarks-input" placeholder="Enter remarks..."></td>
          </tr>

          <tr>
            <td>6</td>
            <td>Item006</td>
            <td>Shoes Sneakers Cleaning Agent 200ML</td>
            <td>32</td>
            <td>RM5.50</td>
            <td>
              <img src="../Images/Sidenavbar/Approve.png" alt="Approve" class="approval-icon">
              <img src="../Images/Sidenavbar/Reject.png" alt="Reject" class="approval-icon">
            </td>    
            <td><input type="text" class="remarks-input" placeholder="Enter remarks..."></td>
          </tr>
          <tr>
            <td>7</td>
            <td>Item007</td>
            <td>Listerine Total Care 250ml</td>
            <td>43</td>
            <td>RM9.80</td>
            <td>
              <img src="../Images/Sidenavbar/Approve.png" alt="Approve" class="approval-icon">
              <img src="../Images/Sidenavbar/Reject.png" alt="Reject" class="approval-icon">
            </td>
            <td><input type="text" class="remarks-input" placeholder="Enter remarks..."></td>
          </tr>

          <tr>
            <td>8</td>
            <td>Item008</td>
            <td>Colgate Plax Peppermint Mouthwash 100ml Travel Sample Trial</td>
            <td>36</td>
            <td>RM8.90</td>
            <td>
              <img src="../Images/Sidenavbar/Approve.png" alt="Approve" class="approval-icon">
              <img src="../Images/Sidenavbar/Reject.png" alt="Reject" class="approval-icon">
            </td>
            <td><input type="text" class="remarks-input" placeholder="Enter remarks..."></td>
          </tr>

          <tr>
            <td>9</td>
            <td>Item009</td>
            <td>DARLIE Toothpaste Double Action Jumbo 250g</td>
            <td>55</td>
            <td>RM7.90</td>
            <td>
              <img src="../Images/Sidenavbar/Approve.png" alt="Approve" class="approval-icon">
              <img src="../Images/Sidenavbar/Reject.png" alt="Reject" class="approval-icon">
            </td>
            <td><input type="text" class="remarks-input" placeholder="Enter remarks..."></td>
          </tr>

          <tr>
            <td>10</td>
            <td>Item010</td>
            <td>LIFEBUOY Total 10 Body Wash 920ml</td>
            <td>30</td>
            <td>RM11.99</td>
            <td>
              <img src="../Images/Sidenavbar/Approve.png" alt="Approve" class="approval-icon">
              <img src="../Images/Sidenavbar/Reject.png" alt="Reject" class="approval-icon">
            </td>
              <td><input type="text" class="remarks-input" placeholder="Enter remarks..."></td>
          </tr>

      </tbody>
    </table>

    <!-- Save Buttons -->
    <div class="d-flex justify-content-between mb-4">
      <div>
        <a href="../Stock Adjustment Approval/ListingPage.html" class="btn btn-secondary">Back to Listing</a>
      </div>
      <div>
        <button class="btn btn-success me-2" id="saveButtonSuccess">Save (Success)</button>
        <button class="btn btn-primary" id="saveButtonCancel">Save (Cancellation)</button>
      </div>
    </div>

    <!-- Validation Modal -->
    <div class="modal" tabindex="-1" id="validationModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"><i class="fas fa-check-circle text-success"></i> Saved Successfully !</h5>
          </div>
          <div class="modal-body" id="modalMessage">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary ms-auto" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="submitRemark">Submit</button>
          </div>
        </div>
      </div>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const saveButtonSuccess = document.getElementById("saveButtonSuccess");
    const saveButtonCancel = document.getElementById("saveButtonCancel");
    const validationModal = new bootstrap.Modal(document.getElementById("validationModal"));
    const modalTitle = document.querySelector(".modal-title");
    const modalMessage = document.getElementById("modalMessage");

    saveButtonSuccess.addEventListener("click", function() {
      modalTitle.innerHTML = `<i class="fas fa-check-circle text-success"></i> Saved Successfully !`;
      modalMessage.innerHTML = `<p><i class="fas fa-check-circle text-success"></i> Success! The outlet details have been saved successfully.</p>`;
      validationModal.show();
    });

    saveButtonCancel.addEventListener("click", function() {
      modalTitle.innerHTML = `<i class="fas fa-times-circle text-danger"></i> Rejected`;
      modalMessage.innerHTML = `
        <p><i class="fas fa-times-circle text-danger"></i> Please State The Reason Of Cancellation/Rejection. </p>
        <textarea class="form-control" id="remark" placeholder="Enter your remark here..." rows="3"></textarea>
      `;
      validationModal.show();
    });

    const approveIcons = document.querySelectorAll('.approval-icon');
    approveIcons.forEach(icon => {
      icon.addEventListener('click', function() {
        approveIcons.forEach(i => i.classList.remove('selected'));
        approveIcons.forEach(i => i.classList.add('deselected'));

        this.classList.add('selected');
        this.classList.remove('deselected');
      });

      icon.addEventListener('mouseover', function() {
        if (!this.classList.contains('selected')) {
          this.classList.add('deselected');
        }
      });

      icon.addEventListener('mouseout', function() {
        if (!this.classList.contains('selected')) {
          this.classList.remove('deselected');
        }
      });
    });

    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    const documentId = getQueryParam("documentId");

    if (documentId) {
      document.getElementById("pageTitle").innerText = `Stock Adjustment Detail - ${documentId}`;
      document.getElementById("detailTitle").innerText = `Stock Adjustment Detail - ${documentId}`;
    }
  </script>
</body>
</html>